{"ast":null,"code":"import { FlipType, SaveFormat } from \"./ImageManipulator.types\";\nexport function validateArguments(uri, actions, saveOptions) {\n  validateUri(uri);\n  validateActions(actions);\n  validateSaveOptions(saveOptions);\n}\nexport function validateUri(uri) {\n  if (!(typeof uri === 'string')) {\n    throw new TypeError('The \"uri\" argument must be a string');\n  }\n}\nexport function validateActions(actions) {\n  if (!Array.isArray(actions)) {\n    throw new TypeError('The \"actions\" argument must be an array');\n  }\n  for (var action of actions) {\n    if (typeof action !== 'object' || action === null) {\n      throw new TypeError('Action must be an object');\n    }\n    var supportedActionTypes = ['crop', 'flip', 'rotate', 'resize'];\n    var actionKeys = Object.keys(action);\n    if (actionKeys.length !== 1) {\n      throw new TypeError(`Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`);\n    }\n    var actionType = actionKeys[0];\n    if (!supportedActionTypes.includes(actionType)) {\n      throw new TypeError(`Unsupported action type: ${actionType}`);\n    }\n    if (actionType === 'crop') {\n      validateCropAction(action);\n    } else if (actionType === 'flip') {\n      validateFlipAction(action);\n    } else if (actionType === 'rotate') {\n      validateRotateAction(action);\n    } else if (actionType === 'resize') {\n      validateResizeAction(action);\n    }\n  }\n}\nfunction validateCropAction(action) {\n  var isValid = typeof action.crop === 'object' && action.crop !== null && typeof action.crop.originX === 'number' && typeof action.crop.originY === 'number' && typeof action.crop.width === 'number' && typeof action.crop.height === 'number';\n  if (!isValid) {\n    throw new TypeError('Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }');\n  }\n}\nfunction validateFlipAction(action) {\n  if (typeof action.flip !== 'string' || ![FlipType.Horizontal, FlipType.Vertical].includes(action.flip)) {\n    throw new TypeError(`Unsupported flip type: ${action.flip}`);\n  }\n}\nfunction validateRotateAction(action) {\n  if (typeof action.rotate !== 'number') {\n    throw new TypeError('Rotation must be a number');\n  }\n}\nfunction validateResizeAction(action) {\n  var isValid = typeof action.resize === 'object' && action.resize !== null && (typeof action.resize.width === 'number' || typeof action.resize.width === 'undefined') && (typeof action.resize.height === 'number' || typeof action.resize.height === 'undefined');\n  if (!isValid) {\n    throw new TypeError('Resize action must be an object of shape { width?: number; height?: number }');\n  }\n}\nexport function validateSaveOptions(_ref) {\n  var base64 = _ref.base64,\n    compress = _ref.compress,\n    format = _ref.format;\n  if (base64 !== undefined && typeof base64 !== 'boolean') {\n    throw new TypeError('The \"base64\" argument must be a boolean');\n  }\n  if (compress !== undefined) {\n    if (typeof compress !== 'number') {\n      throw new TypeError('The \"compress\" argument must be a number');\n    }\n    if (compress < 0 || compress > 1) {\n      throw new TypeError('The \"compress\" argument must be a number between 0 and 1');\n    }\n  }\n  var allowedFormats = [SaveFormat.JPEG, SaveFormat.PNG, SaveFormat.WEBP];\n  if (format !== undefined && !allowedFormats.includes(format)) {\n    throw new TypeError(`The \"format\" argument must be one of: ${allowedFormats.join(', ')}`);\n  }\n}","map":{"version":3,"names":["FlipType","SaveFormat","validateArguments","uri","actions","saveOptions","validateUri","validateActions","validateSaveOptions","TypeError","Array","isArray","action","supportedActionTypes","actionKeys","Object","keys","length","join","actionType","includes","validateCropAction","validateFlipAction","validateRotateAction","validateResizeAction","isValid","crop","originX","originY","width","height","flip","Horizontal","Vertical","rotate","resize","_ref","base64","compress","format","undefined","allowedFormats","JPEG","PNG","WEBP"],"sources":["C:\\Users\\dyarb\\batcave\\Meetup\\client\\node_modules\\expo-image-manipulator\\src\\validators.ts"],"sourcesContent":["import {\n  Action,\n  ActionCrop,\n  ActionFlip,\n  ActionResize,\n  ActionRotate,\n  FlipType,\n  SaveFormat,\n  SaveOptions,\n} from './ImageManipulator.types';\n\nexport function validateArguments(uri: string, actions: Action[], saveOptions: SaveOptions) {\n  validateUri(uri);\n  validateActions(actions);\n  validateSaveOptions(saveOptions);\n}\n\nexport function validateUri(uri: string): void {\n  if (!(typeof uri === 'string')) {\n    throw new TypeError('The \"uri\" argument must be a string');\n  }\n}\n\nexport function validateActions(actions: Action[]): void {\n  if (!Array.isArray(actions)) {\n    throw new TypeError('The \"actions\" argument must be an array');\n  }\n  for (const action of actions) {\n    if (typeof action !== 'object' || action === null) {\n      throw new TypeError('Action must be an object');\n    }\n    const supportedActionTypes = ['crop', 'flip', 'rotate', 'resize'];\n    const actionKeys = Object.keys(action);\n    if (actionKeys.length !== 1) {\n      throw new TypeError(\n        `Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`\n      );\n    }\n    const actionType = actionKeys[0];\n    if (!supportedActionTypes.includes(actionType)) {\n      throw new TypeError(`Unsupported action type: ${actionType}`);\n    }\n\n    if (actionType === 'crop') {\n      validateCropAction(action as ActionCrop);\n    } else if (actionType === 'flip') {\n      validateFlipAction(action as ActionFlip);\n    } else if (actionType === 'rotate') {\n      validateRotateAction(action as ActionRotate);\n    } else if (actionType === 'resize') {\n      validateResizeAction(action as ActionResize);\n    }\n  }\n}\n\nfunction validateCropAction(action: ActionCrop): void {\n  const isValid =\n    typeof action.crop === 'object' &&\n    action.crop !== null &&\n    typeof action.crop.originX === 'number' &&\n    typeof action.crop.originY === 'number' &&\n    typeof action.crop.width === 'number' &&\n    typeof action.crop.height === 'number';\n  if (!isValid) {\n    throw new TypeError(\n      'Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }'\n    );\n  }\n}\n\nfunction validateFlipAction(action: ActionFlip): void {\n  if (\n    typeof action.flip !== 'string' ||\n    ![FlipType.Horizontal, FlipType.Vertical].includes(action.flip)\n  ) {\n    throw new TypeError(`Unsupported flip type: ${action.flip}`);\n  }\n}\n\nfunction validateRotateAction(action: ActionRotate): void {\n  if (typeof action.rotate !== 'number') {\n    throw new TypeError('Rotation must be a number');\n  }\n}\n\nfunction validateResizeAction(action: ActionResize): void {\n  const isValid =\n    typeof action.resize === 'object' &&\n    action.resize !== null &&\n    (typeof action.resize.width === 'number' || typeof action.resize.width === 'undefined') &&\n    (typeof action.resize.height === 'number' || typeof action.resize.height === 'undefined');\n  if (!isValid) {\n    throw new TypeError(\n      'Resize action must be an object of shape { width?: number; height?: number }'\n    );\n  }\n}\n\nexport function validateSaveOptions({ base64, compress, format }: SaveOptions): void {\n  if (base64 !== undefined && typeof base64 !== 'boolean') {\n    throw new TypeError('The \"base64\" argument must be a boolean');\n  }\n  if (compress !== undefined) {\n    if (typeof compress !== 'number') {\n      throw new TypeError('The \"compress\" argument must be a number');\n    }\n    if (compress < 0 || compress > 1) {\n      throw new TypeError('The \"compress\" argument must be a number between 0 and 1');\n    }\n  }\n  const allowedFormats = [SaveFormat.JPEG, SaveFormat.PNG, SaveFormat.WEBP];\n  if (format !== undefined && !allowedFormats.includes(format)) {\n    throw new TypeError(`The \"format\" argument must be one of: ${allowedFormats.join(', ')}`);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}