{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useNavigation } from '@react-navigation/native';\nimport { useAppContext } from \"./AppContext\";\nimport userApi from \"../api/userApi\";\nimport Toast from 'react-native-root-toast';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UserWithOptions = function UserWithOptions(_ref) {\n  var randomUser = _ref.randomUser,\n    receiverId = _ref.receiverId;\n  var _useAppContext = useAppContext(),\n    user = _useAppContext.user;\n  var navigation = useNavigation();\n  var showToast = function showToast(message, backgroundColor) {\n    Toast.show(message, {\n      duration: Toast.durations.SHORT,\n      position: -80,\n      shadow: true,\n      backgroundColor: backgroundColor,\n      animation: true\n    });\n  };\n  var handlePressMessage = function handlePressMessage() {\n    navigation.navigate('Send Message', {\n      senderId: user._id,\n      receiverId: receiverId\n    });\n  };\n  var handleBlock = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var blockAttempt = yield userApi.blockUser(user._id, receiverId);\n        if (blockAttempt === 'blocked') {\n          showToast(`You have blocked ${randomUser.username}!`, 'orangered');\n        } else {\n          showToast(`No longer blocking ${randomUser.username}`, 'green');\n        }\n        return blockAttempt;\n      } catch (err) {\n        showToast(`Error blocking ${receiverId}`);\n      }\n    });\n    return function handleBlock() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.userContainer,\n    children: [randomUser.profilePic && _jsx(Image, {\n      source: {\n        uri: randomUser.profilePic\n      },\n      style: styles.profilePic\n    }), _jsx(Text, {\n      style: styles.username,\n      children: randomUser.username\n    }), _jsxs(View, {\n      style: styles.buttonsContainer,\n      children: [_jsx(Pressable, {\n        onPress: handlePressMessage,\n        children: _jsx(Image, {\n          source: require(\"../assets/message.png\"),\n          style: styles.icon\n        })\n      }), _jsx(Pressable, {\n        onPress: handleBlock,\n        children: _jsx(Image, {\n          source: require(\"../assets/blockUser.png\"),\n          style: styles.icon\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  userContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'flex-start',\n    justifyContent: 'space-between',\n    borderWidth: 1,\n    borderRadius: 12,\n    padding: 8,\n    flex: .4,\n    marginBottom: 7,\n    marginLeft: 10\n  },\n  profilePic: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 10\n  },\n  username: {\n    marginRight: 10\n  },\n  buttonsContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    justifyContent: 'flex-end'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginLeft: 5\n  }\n});\nexport default UserWithOptions;","map":{"version":3,"names":["React","View","Text","Image","Pressable","StyleSheet","useNavigation","useAppContext","userApi","Toast","jsx","_jsx","jsxs","_jsxs","UserWithOptions","_ref","randomUser","receiverId","_useAppContext","user","navigation","showToast","message","backgroundColor","show","duration","durations","SHORT","position","shadow","animation","handlePressMessage","navigate","senderId","_id","handleBlock","_ref2","_asyncToGenerator","blockAttempt","blockUser","username","err","apply","arguments","style","styles","userContainer","children","profilePic","source","uri","buttonsContainer","onPress","require","icon","create","flexDirection","alignItems","alignSelf","justifyContent","borderWidth","borderRadius","padding","flex","marginBottom","marginLeft","width","height","marginRight"],"sources":["C:/Users/dyarb/batcave/Meetup_2.0/client/components/UserWithOptions.js"],"sourcesContent":["// UserWithOptions.js\r\nimport React from 'react';\r\nimport { View, Text, Image, Pressable, StyleSheet } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useAppContext } from './AppContext';\r\nimport userApi from '../api/userApi';\r\nimport Toast from 'react-native-root-toast';\r\n\r\nconst UserWithOptions = ({ randomUser, receiverId }) => {\r\n  const { user } = useAppContext();\r\n  const navigation = useNavigation();\r\n\r\n  const showToast = (message, backgroundColor) => {\r\n    Toast.show(message, {\r\n      duration: Toast.durations.SHORT,\r\n      position: -80,\r\n      shadow: true,\r\n      backgroundColor,\r\n      animation: true,\r\n    });\r\n  };\r\n\r\n  const handlePressMessage = () => {\r\n    navigation.navigate('Send Message', {\r\n      senderId: user._id,\r\n      receiverId,\r\n    });\r\n  };\r\n\r\n  const handleBlock = async () => {\r\n    try {\r\n      const blockAttempt = await userApi.blockUser(user._id, receiverId);\r\n      if (blockAttempt === 'blocked') {\r\n        showToast(`You have blocked ${randomUser.username}!`, 'orangered');\r\n      } else {\r\n        showToast(`No longer blocking ${randomUser.username}`, 'green');\r\n      }\r\n      return blockAttempt;\r\n    } catch (err) {\r\n      showToast(`Error blocking ${receiverId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.userContainer}>\r\n      {randomUser.profilePic && (\r\n        <Image source={{ uri: randomUser.profilePic }} style={styles.profilePic} />\r\n      )}\r\n      <Text style={styles.username}>{randomUser.username}</Text>\r\n      <View style={styles.buttonsContainer}>\r\n        <Pressable onPress={handlePressMessage}>\r\n          <Image source={require('../assets/message.png')} style={styles.icon} />\r\n        </Pressable>\r\n        <Pressable onPress={handleBlock}>\r\n          <Image source={require('../assets/blockUser.png')} style={styles.icon} />\r\n        </Pressable>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  userContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    alignSelf: 'flex-start',\r\n    justifyContent: 'space-between', // Align items to the start and buttons to the end\r\n    borderWidth: 1,\r\n    borderRadius: 12,\r\n    padding: 8,\r\n    flex: .4,\r\n    marginBottom: 7,\r\n    marginLeft: 10,\r\n  },\r\n  profilePic: {\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    marginRight: 10,\r\n  },\r\n  username: {\r\n    marginRight: 10,\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'flex-end', // Align buttons to the end of the row\r\n  },\r\n  icon: {\r\n    width: 20,\r\n    height: 20,\r\n    marginLeft: 5,\r\n  },\r\n});\r\n\r\nexport default UserWithOptions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}